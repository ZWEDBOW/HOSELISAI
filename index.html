<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HoselisAI - Darmowe AI</title>
    <style>
        /* To wideo */
        #bg-video {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: -1; /* Ustawienie wideo poni偶ej zawartoci strony */
        }

        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            background-color: #121212;
            color: #e0e0e0;
        }

        .chat-container {
            width: 90%;
            max-width: 600px;
            border-radius: 8px;
            background-color: rgba(30, 30, 30, 0.8); /* Przezroczysto ta */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            padding: 20px;
            display: flex;
            flex-direction: column;
            height: 80%;
        }

        .chat-header {
            font-size: 32px; /* Powikszamy rozmiar czcionki */
            margin-bottom: 10px;
            color: #fff;
            text-align: center;
            font-weight: bold; /* Pogrubienie tekstu */
            font-family: 'SEPARAT', sans-serif; /* Kwadratowa czcionka (monospace) */
            letter-spacing: 2px; /* Dodatkowa przestrze midzy literami */
        }

        .chat-box {
            flex: 1;
            overflow-y: auto;
            padding: 10px;
            background-color: #2a2a2a;
            color: #e0e0e0;
            margin-bottom: 10px;
        }

        .chat-box .message {
            margin: 5px 0;
            display: flex;
            align-items: center;
            white-space: nowrap;
            overflow: hidden;
        }

        .chat-box .message.user {
            text-align: right;
            background-color: #333;
            border-radius: 8px;
            color: #ffffff;
            padding: 8px;
        }

        .chat-box .message.bot {
            text-align: left;
            background-color: #444;
            border-radius: 8px;
            color: #ffffff;
            padding: 8px;
        }

        .chat-box .message .emoji {
            font-size: 1.5em;
            margin-right: 8px;
            color: #f0f0f0;
        }

        .thinking {
            color: #f0f0f0;
            font-size: 18px;
            display: inline-block;
            animation: typing 1.5s infinite;
        }

        @keyframes typing {
            0% { content: "."; }
            25% { content: ".."; }
            50% { content: "..."; }
            75% { content: ".."; }
            100% { content: "."; }
        }

        .chat-input {
            display: flex;
            gap: 10px;
        }

        .input-field {
            flex: 1;
            padding: 10px;
            border: 1px solid #444;
            border-radius: 5px;
            font-size: 16px;
            background-color: #333;
            color: #e0e0e0;
        }

        .send-btn {
            padding: 10px 20px;
            background-color: white; /* Biae to */
            color: black; /* Czarny tekst */
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: background 0.3s ease;
        }

        .send-btn:hover {
            background-color: #f0f0f0; /* Jasnoszare to po najechaniu */
        }

        /* Zmiana przycisku po wysaniu */
        .send-btn.disabled {
            background: linear-gradient(45deg, #888, #ccc);
            color: #666;
            cursor: not-allowed;
        }

        .input-field:focus {
            outline: none;
            border-color: #ffffff;
        }

        /* Animacja pisania bota */
        .bot .typing {
            display: inline-block;
            overflow: hidden;
            width: 0;
            white-space: nowrap;
            animation: typing 2s steps(30) forwards; /* 30 krok贸w dla 30 liter */
        }

        /* Definicja animacji */
        @keyframes typing {
            from {
                width: 0;
            }
            to {
                width: 100%;
            }
        }

        /* Styl przycisku "Co umiem" w prawym g贸rnym rogu */
        .skills-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            padding: 10px 20px;
            background-color: rgba(0, 0, 0, 0.6);
            color: #ffffff;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .skills-btn:hover {
            background-color: rgba(0, 0, 0, 0.8);
        }

        .skills-btn:focus {
            outline: none;
        }
    </style>
</head>
<body>

    <!-- To wideo -->
    <video autoplay muted loop id="bg-video">
        <source src="your-video-file.mp4" type="video/mp4">
        Twoja przegldarka nie obsuguje wideo.
    </video>

    <div class="chat-container">
        <div class="chat-header">HoselisAI</div>
        <div class="chat-box" id="chat-box"></div>
        <div class="chat-input">
            <input type="text" id="user-input" class="input-field" placeholder="Wpisz pytanie..." />
            <button class="send-btn" id="send-btn" onclick="sendMessage()">Wylij</button>
        </div>
    </div>

    <!-- Przycisk "Co umiem" -->
    <button id="skills-btn" class="skills-btn">Co umiem</button>

    <script>
        // Funkcja dodajca wiadomo u偶ytkownika
        function addUserMessage(message) {
            const chatBox = document.getElementById('chat-box');
            const userMessage = document.createElement('div');
            userMessage.classList.add('message', 'user');
            userMessage.innerHTML = '<span class="emoji"></span>' + message; // Emotka czowieka przed wiadomoci
            chatBox.appendChild(userMessage);
        }

        // Funkcja dodajca odpowied藕 bota z animacj pisania
        function addBotMessage(message) {
            const chatBox = document.getElementById('chat-box');
            const botMessage = document.createElement('div');
            botMessage.classList.add('message', 'bot');
            botMessage.innerHTML = '<span class="emoji"></span><span class="typing">' + message + '</span>'; // Tekst bota z animacj
            chatBox.appendChild(botMessage);

            // Animacja po zaadowaniu strony
            const typingElement = botMessage.querySelector('.typing');
            typingElement.style.animation = `typing ${message.length * 0.1}s steps(${message.length}) forwards`;
        }

        // Funkcja generujca odpowiedzi bota
        function generateBotResponse(userMessage) {
            const responses = [
                {
                    keywords: ["cze", "hej", "witaj", "dzie dobry"],
                    response: "Cze! Jak mog Ci dzisiaj pom贸c?"
                },
                {
                    keywords: ["jak si masz", "co u ciebie", "jak tam"],
                    response: "Dziki za zapytanie! Dziaam wietnie. A jak Ty?"
                },
                {
                    keywords: ["co potrafisz", "co robisz", "czym si zajmujesz"],
                    response: "Jestem AI, umiem matematyk"
                },
                {
                    keywords: ["jaki dzie", "data", "co za dzie"],
                    response: `Dzi jest ${new Date().toLocaleDateString('pl-PL')}.`
                },
                {
                    keywords: ["dzikuj", "dziki", "dziki za pomoc"],
                    response: "Nie ma sprawy! Jeli bdziesz mia jeszcze jakie pytania, miao pisz."
                },
                {
                    keywords: ["do widzenia", "pa", "偶egnaj"],
                    response: "Do zobaczenia! Miego dnia!"
                },
                {
                    keywords: ["kalkulator", "oblicz", "policz"],
                    response: "Wpisz dziaanie matematyczne, a ja je oblicz."
                }
            ];

            // Sprawdzanie, czy u偶ytkownik prosi o kalkulator
            if (/[\d\+\-\*\/\^\(\)\.]+/.test(userMessage)) {
                try {
                    const result = eval(userMessage);  // Obliczamy wynik
                    return `R贸wnanie: ${userMessage} = ${result}`;
                } catch (e) {
                    return "Nie udao si obliczy tego r贸wnania. Spr贸buj ponownie.";
                }
            }

            // Szukanie odpowiedzi na podstawie s贸w kluczowych w wiadomoci u偶ytkownika
            for (const item of responses) {
                for (const keyword of item.keywords) {
                    if (userMessage.toLowerCase().includes(keyword)) {
                        return item.response;
                    }
                }
            }

            // Domylna odpowied藕, gdy brak dopasowania
            return "Przepraszam, to nie znajduj si w mojej bazie danych!";
        }

        // Funkcja wysyania wiadomoci
        function sendMessage() {
            const userInput = document.getElementById('user-input').value.trim();
            if (userInput) {
                // Zablokuj mo偶liwo pisania i wylij
                document.getElementById('user-input').disabled = true;
                document.querySelector('.send-btn').disabled = true;
                document.getElementById('send-btn').classList.add('disabled');
                document.getElementById('send-btn').textContent = 'Czekaj...';
                
                // Zmie tekst w polu na "Poczekaj na odpowied藕"
                document.getElementById('user-input').placeholder = "Poczekaj na odpowied藕...";

                // Dodaj wiadomo u偶ytkownika do chatu
                addUserMessage(userInput);

                // Wyczy pole tekstowe
                document.getElementById('user-input').value = '';

                // Dodaj animacj mylenia
                const chatBox = document.getElementById('chat-box');
                const thinkingMessage = document.createElement('div');
                thinkingMessage.classList.add('message', 'bot');
                thinkingMessage.innerHTML = '<span class="emoji"></span><span class="thinking">Myl...</span>';
                chatBox.appendChild(thinkingMessage);

                // Po 3 sekundach usu animacj mylenia i dodaj odpowied藕
                setTimeout(() => {
                    chatBox.removeChild(thinkingMessage);  // Usuwamy wiadomo "Myl..."
                    const botResponse = generateBotResponse(userInput);
                    addBotMessage(botResponse);  // Dodajemy odpowied藕 bota

                    // Ponownie wcz pole tekstowe, przywr贸 placeholder i przywr贸 przycisk
                    document.getElementById('user-input').disabled = false;
                    document.querySelector('.send-btn').disabled = false;
                    document.getElementById('user-input').placeholder = "Wpisz pytanie...";
                    document.getElementById('send-btn').classList.remove('disabled');
                    document.getElementById('send-btn').textContent = 'Wylij';
                }, 3000);
            }
        }

        // Funkcja uruchamiajca wiadomo powitaln po zaadowaniu strony
        window.onload = function() {
            addBotMessage("Witaj, w czym mog dzisiaj ci pom贸c?");
        }

        // Obsuguje nacinicie klawisza Enter do wysyania wiadomoci
        document.getElementById('user-input').addEventListener('keypress', function (e) {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });

        // Funkcja wysyajca wiadomo "co potrafisz" po klikniciu przycisku
        document.getElementById('skills-btn').addEventListener('click', function() {
            // Wylij wiadomo "co potrafisz" do bota
            const userMessage = "co potrafisz";
            addUserMessage(userMessage);

            // Wyczy pole tekstowe
            document.getElementById('user-input').value = '';

            // Zablokuj mo偶liwo wysyania wiadomoci przez u偶ytkownika
            document.getElementById('user-input').disabled = true;
            document.querySelector('.send-btn').disabled = true;
            document.getElementById('send-btn').classList.add('disabled');
            document.getElementById('send-btn').textContent = 'Czekaj...';

            // Dodaj animacj mylenia
            const chatBox = document.getElementById('chat-box');
            const thinkingMessage = document.createElement('div');
            thinkingMessage.classList.add('message', 'bot');
            thinkingMessage.innerHTML = '<span class="emoji"></span><span class="thinking">Myl...</span>';
            chatBox.appendChild(thinkingMessage);

            // Po 3 sekundach usu animacj mylenia i dodaj odpowied藕
            setTimeout(() => {
                chatBox.removeChild(thinkingMessage);  // Usuwamy wiadomo "Myl..."
                const botResponse = generateBotResponse(userMessage);
                addBotMessage(botResponse);  // Dodajemy odpowied藕 bota

                // Ponownie wcz pole tekstowe, przywr贸 placeholder i przywr贸 przycisk
                document.getElementById('user-input').disabled = false;
                document.querySelector('.send-btn').disabled = false;
                document.getElementById('user-input').placeholder = "Wpisz pytanie...";
                document.getElementById('send-btn').classList.remove('disabled');
                document.getElementById('send-btn').textContent = 'Wylij';
            }, 3000);
        });
    </script>
</body>
</html>
